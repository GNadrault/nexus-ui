{"version":3,"file":"index.js","mappings":"mBACA,ICoBMA,EACAC,EACAC,EAmBAC,EASAC,EAjDAC,EAAqCC,SAASC,cAAc,cAC5DC,EAAiCF,SAASC,cAAc,gBACxDE,EAAuCH,SAASC,cAAc,gBA4FpEF,SAAAA,EAAgBK,iBAAiB,SAAS,SAACC,GA1FpC,IAAqBC,KA2FON,SAASC,cAAc,WAzFtDK,EAAKC,QAAQC,MAA+B,SAAvBF,EAAKC,QAAQC,MAAmB,QAAU,OA2FnE,IAGAN,SAAAA,EAAYE,iBAAiB,SAAS,SAACC,GA1FhC,IAAmBI,EA2FxBP,SAAAA,EAAYQ,UAAUC,OAAO,cACxBR,aAAU,EAAVA,EAAYS,MAxFZ,SAAoBH,GACrBA,GAAQA,EAAOI,OACrB,CAyFIhB,CAAWM,IA/FWM,EA6FZN,IA5FAM,EAAOK,MAgGrB,IAxFMpB,EAA0B,GAC1BC,EAAqBK,SAASe,KAC9BnB,EAAsCI,SAASC,cAAc,eAmB7DJ,EAAa,SAAUQ,GACrBT,IACFA,EAAgBQ,iBAAiB,gBAAiBN,GAAY,GAC9DF,EAAgBoB,MAAMC,UAAYvB,EAClCC,EAAMe,UAAUQ,IAAI,eACpBvB,EAAMe,UAAUS,OAAO,cAE3B,EAEIrB,EAAa,SAAUO,GACrBT,GAAmBS,EAAEe,SAAWxB,IAClCD,EAAMe,UAAUS,OAAO,eACvBvB,EAAgByB,gBAAgB,SAChCzB,EAAgB0B,oBAAoB,gBAAiBxB,GAEzD,EAEAE,SAASI,iBACP,SACA,SAAUC,GACMA,EAAEe,OAAOG,QAAQ,oBArCnB,SAAUlB,GACxB,GAAIT,EAAiB,CACnB,IAAI4B,EAAsB5B,EAAgB6B,wBACxCC,EAAqBrB,EAAEe,OAAOK,wBAC9BE,EAAaD,EAAmBE,KAAO,KACvCC,EAAaH,EAAmBI,IAAM,KACtCC,EAASL,EAAmBM,MAAQR,EAAoBQ,MACxDC,EAASP,EAAmBQ,OAASV,EAAoBU,OAE3DxC,EAAkB,aAAeiC,EAAa,IAAME,EAAa,WAAaE,EAAS,KAAOE,EAAS,IACvGrC,EAAgBoB,MAAMC,UAAYvB,EAClCM,SAASe,KAAKoB,YACdxC,EAAMe,UAAUQ,IAAI,cACpBtB,EAAgBoB,MAAMC,UAAY,wD,CAEtC,CAwBMmB,CAAU/B,EAEd,IACA,GAGFL,SAASI,iBACP,SACA,SAAUC,GACMA,EAAEe,OAAOG,QAAQ,yBAE7B1B,GAEJ,IACA,GAGFG,SAASI,iBACP,WACA,SAAUC,GACO,WAAXA,EAAEgC,MAAqB1C,EAAMe,UAAU4B,SAAS,eAClDzC,GAEJ,IACA,E","sources":["webpack://@gnadrault/nexus-ui/webpack/bootstrap","webpack://@gnadrault/nexus-ui/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","import \"./sass/style.scss\";\r\n\r\nconst btnSwitchTheme: HTMLElement | null = document.querySelector(\"#btn-theme\");\r\nconst burgerMenu: HTMLElement | null = document.querySelector(\"#burger-menu\");\r\nconst dialogMenu: HTMLDialogElement | null = document.querySelector(\"#dialog-menu\");\r\n\r\nexport function switchTheme(root: HTMLElement | null) {\r\n  if (root) {\r\n    root.dataset.theme = root.dataset.theme === \"dark\" ? \"light\" : \"dark\";\r\n  }\r\n}\r\n\r\nexport function openPopup(dialog: HTMLDialogElement | null) {\r\n  if (dialog) dialog.show();\r\n}\r\n\r\nexport function closePopup(dialog: HTMLDialogElement | null) {\r\n  if (dialog) dialog.close();\r\n}\r\n\r\nexport function popup() {\r\n  var popup_transform: string = \"\";\r\n  var $body: HTMLElement = document.body;\r\n  var $popupContainer: HTMLElement | null = document.querySelector(\".card-popup\");\r\n\r\n  var openPopup = function (e: any) {\r\n    if ($popupContainer) {\r\n      var popup_bounding_rect = $popupContainer.getBoundingClientRect(),\r\n        card_bounding_rect = e.target.getBoundingClientRect(),\r\n        translateX = card_bounding_rect.left + \"px\",\r\n        translateY = card_bounding_rect.top + \"px\",\r\n        scaleX = card_bounding_rect.width / popup_bounding_rect.width,\r\n        scaleY = card_bounding_rect.height / popup_bounding_rect.height;\r\n\r\n      popup_transform = \"translate(\" + translateX + \",\" + translateY + \") scale(\" + scaleX + \", \" + scaleY + \")\";\r\n      $popupContainer.style.transform = popup_transform;\r\n      document.body.offsetWidth;\r\n      $body.classList.add(\"popup-open\");\r\n      $popupContainer.style.transform = \"translate(calc(50vw - 50%), calc(50vh - 50%)) scale(1)\";\r\n    }\r\n  };\r\n\r\n  var closePopup = function (e: any) {\r\n    if ($popupContainer) {\r\n      $popupContainer.addEventListener(\"transitionend\", resetPopup, false);\r\n      $popupContainer.style.transform = popup_transform;\r\n      $body.classList.add(\"popup-close\");\r\n      $body.classList.remove(\"popup-open\");\r\n    }\r\n  };\r\n\r\n  var resetPopup = function (e: any) {\r\n    if ($popupContainer && e.target === $popupContainer) {\r\n      $body.classList.remove(\"popup-close\");\r\n      $popupContainer.removeAttribute(\"style\");\r\n      $popupContainer.removeEventListener(\"transitionend\", resetPopup);\r\n    }\r\n  };\r\n\r\n  document.addEventListener(\r\n    \"click\",\r\n    function (e: any) {\r\n      var matches = e.target.matches(\".card.card-open\");\r\n      if (matches) {\r\n        openPopup(e);\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  document.addEventListener(\r\n    \"click\",\r\n    function (e: any) {\r\n      var matches = e.target.matches(\".card-popup__dismiss\");\r\n      if (matches) {\r\n        closePopup(e);\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  document.addEventListener(\r\n    \"keydown\",\r\n    function (e) {\r\n      if (e.code === \"Escape\" && $body.classList.contains(\"popup-open\")) {\r\n        closePopup(e);\r\n      }\r\n    },\r\n    false\r\n  );\r\n}\r\n\r\n/**\r\n * EVENT LISTENER\r\n */\r\n// Switch theme\r\nbtnSwitchTheme?.addEventListener(\"click\", (e: Event) => {\r\n  const root: HTMLElement | null = document.querySelector(\"html\");\r\n  switchTheme(root);\r\n});\r\n\r\n// Display dialog menu\r\nburgerMenu?.addEventListener(\"click\", (e) => {\r\n  burgerMenu?.classList.toggle(\"menu-open\");\r\n  if (!dialogMenu?.open) {\r\n    openPopup(dialogMenu);\r\n  } else {\r\n    closePopup(dialogMenu);\r\n  }\r\n});\r\n\r\npopup();\r\n"],"names":["popup_transform","$body","$popupContainer","closePopup","resetPopup","btnSwitchTheme","document","querySelector","burgerMenu","dialogMenu","addEventListener","e","root","dataset","theme","dialog","classList","toggle","open","close","show","body","style","transform","add","remove","target","removeAttribute","removeEventListener","matches","popup_bounding_rect","getBoundingClientRect","card_bounding_rect","translateX","left","translateY","top","scaleX","width","scaleY","height","offsetWidth","openPopup","code","contains"],"sourceRoot":""}